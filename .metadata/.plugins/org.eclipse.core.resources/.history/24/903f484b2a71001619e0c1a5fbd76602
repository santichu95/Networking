/************************************************
*
* Author: Santiago Andaluz Ruiz
* Assignment: Program 0: Fatbat
* Class: CSI 4321 Data Comm
*
************************************************/
package foodnetwork.serialization.test;

import static org.junit.Assert.*;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;

import org.junit.Test;

import foodnetwork.serialization.FoodItem;
import foodnetwork.serialization.FoodNetworkException;
import foodnetwork.serialization.MealType;
import foodnetwork.serialization.MessageInput;

public class FoodItemTest {

	MealType meal;
	MessageInput test;
	FileInputStream in;
	FoodItem food;
	
	@Test
	public void testReadEntireFoodItem() throws FoodNetworkException, FileNotFoundException {
		in = new FileInputStream(new File("breakfast"));
		test = new MessageInput(in);
		food = new FoodItem(test);
		
	}
	
	@Test
	public void testReadFat() throws FoodNetworkException, FileNotFoundException {
		in = new FileInputStream(new File("fat"));
		test = new MessageInput(in);
		assertEquals("3.8",test.readFat());
	}
	
	
	@Test
	public void testReadMealType() throws FoodNetworkException, FileNotFoundException {
		in = new FileInputStream(new File("type"));
		test = new MessageInput(in);
		assertEquals(MealType.Breakfast, test.readType());
	}
	
	@Test
	public void testReadInt() throws FoodNetworkException, FileNotFoundException {
			in = new FileInputStream(new File("breakfast"));
			test = new MessageInput(in);
			assertEquals(4,test.readInt());
	}

	@Test
	public void testReadName() throws FoodNetworkException, FileNotFoundException{
		in = new FileInputStream(new File("breakfast"));
		test = new MessageInput(in);
		assertEquals("plum",test.readName());
	}
	
	@Test(expected=FoodNetworkException.class)
	public void testGetMealTypeException() throws FoodNetworkException {
		MealType.getMealType('A');
	}

	@Test
	public void testGetMealTypeBreakfast() throws FoodNetworkException {
		assertEquals(MealType.Breakfast, MealType.getMealType('B'));
	}	
	
	@Test
	public void testGetMealTypeLunch() throws FoodNetworkException {
		assertEquals(MealType.Lunch, MealType.getMealType('L'));
	}	
	
	@Test
	public void testGetMealTypeDinner() throws FoodNetworkException {
		assertEquals(MealType.Dinner, MealType.getMealType('D'));
	}	
	
	@Test
	public void testGetMealTypeSnack() throws FoodNetworkException {
		assertEquals(MealType.Snack, MealType.getMealType('S'));
	}

	@Test
	public void testGetMealTypeCodeBreakfast() {
		meal = MealType.Breakfast;
		
		assertEquals('B', meal.getMealTypeCode());
	}
	
	@Test
	public void testGetMealTypeCodeLunch() {
		meal = MealType.Lunch;
		
		assertEquals('L', meal.getMealTypeCode());
	}
	
	@Test
	public void testGetMealTypeCodeDinner() {
		meal = MealType.Dinner;
		
		assertEquals('D', meal.getMealTypeCode());
	}
	
	@Test
	public void testGetMealTypeCodeSnack() {
		meal = MealType.Snack;
		
		assertEquals('S', meal.getMealTypeCode());
	}

}
